# Change Log: Version 2.5.2

**Release Date:** 2026-01-30

This patch release improves documentation, error handling, and test coverage.

## Changes

### Documentation

- **README.md**: Added "SMTPS vs STARTTLS" section
  - Comparison table explaining both encryption methods
  - When to use each method
  - Common provider configurations (Gmail, Microsoft 365, Yahoo)
  - Usage examples

### Improvements

- **TLS Error Cleanup**: Close() errors after TLS handshake failure are now logged in verbose mode instead of being silently ignored

- **Environment Variable Parsing**: Boolean env vars now accept more truthy values
  - Previously: only `true` and `1`
  - Now: `true`, `TRUE`, `True`, `1`, `yes`, `YES`, `on`, `ON`
  - New env vars supported: `SMTPSTARTTLS`, `SMTPSKIPVERIFY`

### Test Coverage

- Added unit tests for SMTPS connection logic:
  - `TestIsEncrypted` - TLS state tracking
  - `TestGetTLSState` - TLS state retrieval
  - `TestSMTPClient_NewSMTPClient` - client initialization
  - `TestSMTPClient_GetBanner` - banner retrieval
  - `TestSMTPClient_GetCapabilities` - capabilities retrieval
  - `TestSMTPSConfig` - SMTPS port defaulting

- Added `TestParseBoolEnv` with 19 test cases for boolean parsing

---

## Upgrade Notes

No breaking changes. Fully backward compatible with v2.5.1.

---

## Contributors

- Claude Opus 4.5 (AI Assistant)
- Project Maintainer: ziembor

---

## Links

- **Repository**: https://github.com/ziembor/gomailtesttool
- **Release Tag**: v2.5.2
- **Previous Release**: v2.5.1 (2026-01-30)
